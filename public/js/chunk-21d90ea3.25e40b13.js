(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21d90ea3"],{"2ead":function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"order-detail"},[a("div",{staticClass:"container"},[a("div",{staticClass:"crumb"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("订单详情")])],1)],1),a("div",{staticClass:"order-detail-body"},[a("Side"),a("div",{staticClass:"order-detail-content"},[a("div",{staticClass:"wrap"},[a("div",{staticClass:"order-detail-title"},[a("h1",[t._v("订单详情")]),a("div",{staticClass:"order-status"},[a("h2",{staticClass:"subtitle"},[t._v("订单号："+t._s(t.orderDetail.order_sn))]),a("div",{staticClass:"flex-list"},["PAYING"===t.orderDetail.status?a("div",{staticClass:"list",on:{click:function(s){return t.cancleOrder(t.orderDetail.order_sn)}}},[t._v(" 取消订单 ")]):a("div",{staticClass:"list",staticStyle:{display:"none"}}),a("div",{staticClass:"list",on:{click:function(s){return t.goPay(t.orderDetail.order_sn,t.orderDetail.status)}}},[t._v(t._s(t._f("judgeStatus")(t.orderDetail.status))+" ")])])])]),a("div",{staticClass:"line"}),a("div",{staticClass:"order-detail-body"},[a("div",{staticClass:"body-status"},[t._v(" "+t._s(t._f("getPayStatus")(t.orderDetail.status))+" ")]),a("div",{staticClass:"body-list"},[a("ul",[t._l(t.orderDetail.goods,(function(s,i){return a("li",{key:i},[a("div",{staticClass:"list-img"},[a("img",{attrs:{src:s.goods.cover,alt:s.goods.classify}})]),a("p",{staticClass:"list-title"},[t._v(t._s(t.getTitle(s.goods.params)))]),a("p",{staticClass:"list-price"},[t._v(t._s(s.goods.sold_price)+"元 × "+t._s(s.nums))])])})),a("div",{staticClass:"line"})],2)]),a("div",{staticClass:"body-name"},[a("div",{staticClass:"title"},[t._v("收货信息")]),a("div",{staticClass:"list"},[t._v("姓名："+t._s(t.orderDetail.signer_name))]),a("div",{staticClass:"list"},[t._v("联系电话："+t._s(t.orderDetail.singer_mobile))]),a("div",{staticClass:"list"},[t._v("收货地址："+t._s(t.orderDetail.address))])]),a("div",{staticClass:"line"}),a("div",{staticClass:"body-pay"},[a("div",{staticClass:"title"},[t._v("支付方式")]),a("div",{staticClass:"list"},[t._v(" 支付方式："+t._s(t._f("getPayType")(t.orderDetail.pay_type))+" ")])]),a("div",{staticClass:"line"}),a("div",{staticClass:"body-total"},[a("div",{staticClass:"item"},[a("span",{staticClass:"item-name"},[t._v("商品件数：")]),a("span",{staticClass:"item-val"},[t._v(t._s(t.totalNums)+"件")])]),a("div",{staticClass:"item"},[a("span",{staticClass:"item-name"},[t._v("商品总价：")]),a("span",{staticClass:"item-val"},[t._v(t._s(t.totalPrice)+"元")])]),a("div",{staticClass:"item"},[a("span",{staticClass:"item-name"},[t._v("运费：")]),a("span",{staticClass:"item-val"},[t._v(t._s(t.totalPostAge)+"元")])]),a("div",{staticClass:"item-total"},[a("span",{staticClass:"item-name"},[t._v("应付总额：")]),a("span",{staticClass:"item-val"},[t._v(t._s(t.totalPrice+t.totalPostAge))])])])])])])],1)])])},e=[],r=(a("12c4"),a("7c3e"),a("06f5")),l=a.n(r),n=(a("5580"),a("0cf6"),a("f412")),o=a("c466"),c={name:"message",components:{Side:n["a"]},data:function(){return{orderDetail:{},orderSn:"",detailList:[]}},filters:{judgeStatus:function(t){return"PAYING"===t?"立即付款":"DELIVERY"===t?"催促发货":"GOOD"===t?"查看物流":"COMMENT"===t?"马上评价":"SUCCESS"===t?"申请退货":"订单关闭"},getPayStatus:function(t){return"PAYING"===t?"待付款":"DELIVERY"===t?"待发货":"GOOD"===t?"待收货":"COMMENT"===t?"待评价":"SUCCESS"===t?"已收货":"已关闭"},formatCreateTime:function(t){var s=new Date(t);return Object(o["a"])(s,"yyyy-MM-dd hh:mm:ss")},getPayType:function(t){return"alipay"===t?"支付宝":"微信支付"}},mounted:function(){this.getOrderDetail()},created:function(){document.title="订单详情 - JapanHui"},computed:{totalPrice:function(){var t=0,s=this.detailList.map((function(t){return t.nums*t.goods.sold_price}));return s.forEach((function(s){t+=s})),t},totalNums:function(){var t=0,s=this.detailList.map((function(t){return t.nums}));return s.forEach((function(s){t+=s})),t},totalPostAge:function(){var t=0,s=this.detailList.map((function(t){return t.nums*t.goods.weight}));return s.forEach((function(s){t+=s})),t}},methods:{cancleOrder:function(t){console.log(t),this.axios.delete("/orders/".concat(t,"/")).then((function(t){console.log(t),l.a.success("订单取消成功")}))},getTitle:function(t){return t[0]["value"]},goPay:function(t,s){if("PAYING"===s){var a=this.$router.resolve({name:"pay",query:{orderSn:t}});window.open(a.href,"_blank")}else"SUCCESS"===s||"DELIVERY"===s&&l.a.success("催促成功，我们将优先为您发货")},getOrderDetail:function(){var t=this,s=this.$route.query.orderSn;this.axios.get("/orders/",{params:{order_sn:s}}).then((function(a){0===a.data.total?l.a.warning("请核对订单号"):(t.orderDetail=a.data.list[0],t.detailList=a.data.list[0].goods,t.orderSn=s)}))}}},d=c,u=(a("c771"),a("4ac2")),v=Object(u["a"])(d,i,e,!1,null,null,null);s["default"]=v.exports},c771:function(t,s,a){"use strict";a("d78c")},d78c:function(t,s,a){}}]);
//# sourceMappingURL=chunk-21d90ea3.25e40b13.js.map