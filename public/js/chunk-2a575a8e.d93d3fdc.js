(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a575a8e"],{"0aef":function(t,e,n){"use strict";var i=n("4382");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0cea":function(t,e,n){"use strict";var i=n("9f87"),r=n("1905"),s=n("f17f"),a=n("56a8"),o=n("eeea"),c=n("a1f8"),l=n("eff6"),u=n("d874"),d=n("6597"),p=n("6187"),f=n("8dc5"),v=[],g=v.sort,h=o((function(){v.sort(void 0)})),m=o((function(){v.sort(null)})),b=l("sort"),x=!o((function(){if(p)return p<70;if(!(u&&u>3)){if(d)return!0;if(f)return f<603;var t,e,n,i,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)v.push({k:e+i,v:n})}for(v.sort((function(t,e){return e.v-t.v})),i=0;i<v.length;i++)e=v[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}})),C=h||!m||!b||!x,_=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:String(e)>String(n)?1:-1}};i({target:"Array",proto:!0,forced:C},{sort:function(t){void 0!==t&&r(t);var e=s(this);if(x)return void 0===t?g.call(e):g.call(e,t);var n,i,o=[],l=a(e.length);for(i=0;i<l;i++)i in e&&o.push(e[i]);o=c(o,_(t)),n=o.length,i=0;while(i<n)e[i]=o[i++];while(i<l)delete e[i++];return e}})},"1eb1":function(t,e,n){},"239c":function(t,e,n){"use strict";var i=n("6f63"),r=n("4382"),s=n("eeea"),a=n("0aef"),o="toString",c=RegExp.prototype,l=c[o],u=s((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=o;(u||d)&&i(RegExp.prototype,o,(function(){var t=r(this),e=String(t.source),n=t.flags,i=String(void 0===n&&t instanceof RegExp&&!("flags"in c)?a.call(t):n);return"/"+e+"/"+i}),{unsafe:!0})},"2c5b":function(t,e,n){"use strict";n("1eb1")},"3abd":function(t,e,n){var i=n("4ce1"),r=n("f219"),s=n("b63d"),a=s("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==r(t))}},"43b5":function(t,e,n){"use strict";n("9896");var i=n("6f63"),r=n("c3c5"),s=n("eeea"),a=n("b63d"),o=n("f861"),c=a("species"),l=RegExp.prototype,u=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),p=a("replace"),f=function(){return!!/./[p]&&""===/./[p]("a","$0")}(),v=!s((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,p){var g=a(t),h=!s((function(){var e={};return e[g]=function(){return 7},7!=""[t](e)})),m=h&&!s((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[g]=/./[g]),n.exec=function(){return e=!0,null},n[g](""),!e}));if(!h||!m||"replace"===t&&(!u||!d||f)||"split"===t&&!v){var b=/./[g],x=n(g,""[t],(function(t,e,n,i,s){var a=e.exec;return a===r||a===l.exec?h&&!s?{done:!0,value:b.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),C=x[0],_=x[1];i(String.prototype,t,C),i(l,g,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}p&&o(l[g],"sham",!0)}},5911:function(t,e,n){var i=n("f219"),r=n("c3c5");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var s=n.call(t,e);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},6597:function(t,e,n){var i=n("b579");t.exports=/MSIE|Trident/.test(i)},"8d7e":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"detail"},[t.errorFlag?n("div",{staticClass:"container"},[n("div",{staticClass:"product"},[n("div",{staticClass:"crumb"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),n("el-breadcrumb-item",[t._v(t._s(t.good.cateName))]),n("el-breadcrumb-item",[t._v(t._s(t.good.title))])],1)],1),n("div",{staticClass:"content"},[n("div",{staticClass:"left"},[n("swiper",{attrs:{options:t.swiperOptions}},[t._l(t.sliderList,(function(t,e){return n("swiper-slide",{key:e},[n("a",{attrs:{href:"javascript:;"}},[n("img",{attrs:{src:t}})])])})),n("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}),n("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),n("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"})],2)],1),n("div",{staticClass:"right"},[n("h2",{staticClass:"item-title",domProps:{innerHTML:t._s(t.good.title)}}),n("p",{staticClass:"item-info"},[t._v(" "+t._s(t.good.desc)+" ")]),n("div",{staticClass:"item-price"},[t._v(t._s(t.soldPrice)+"元 ")]),n("div",{staticClass:"line"}),n("div",{staticClass:"item-version"},[n("h2",[t._v("产品")]),n("div",{staticClass:"info-list"},t._l(t.good.params,(function(e){return n("div",{key:e.id,staticClass:"phone",class:{checked:t.version===e.id},on:{click:function(n){return t.getVersion(e.id)}}},[t._l(e.params,(function(e){return[t._v(" "+t._s(e["value"])+" ")]}))],2)})),0)]),n("div",{staticClass:"item-nums"},[n("h2",[t._v("数量")]),n("el-input-number",{staticClass:"num-right",attrs:{min:1,max:10},on:{change:t.handleChange},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1),t.productName?[n("div",{staticClass:"total"},[n("div",{staticClass:"phone-info"},[n("div",{staticClass:"fl",domProps:{innerHTML:t._s(t.productName)}}),n("div",{staticClass:"fr"},[t._v("价格："+t._s(t.productPrice*t.num)+"元")])])])]:t._e(),n("div",{staticClass:"btn-submit"},[0===t.stockStatus?[n("div",{staticClass:"btn-1",on:{click:function(e){return t.goToOrder(t.version)}}},[n("a",{staticClass:"btn",attrs:{href:"javascript:;"}},[t._v("立即购买")])]),n("div",{staticClass:"btn-2",on:{click:function(e){return t.addCart(t.version)}}},[n("a",{staticClass:"btn",attrs:{href:"javascript:;"}},[t._v("加入购物车")])])]:[n("div",{staticClass:"btn-1",staticStyle:{"background-color":"#999999"}},[n("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.outStcok(t.good.id)}}},[t._v("库存不足")])]),n("div",{staticClass:"btn-2",on:{click:function(e){return t.notifyGood(t.good.id)}}},[n("a",{staticClass:"btn",attrs:{href:"javascript:;"}},[t._v("到货通知")])])]],2)],2)])]),n("div",{staticClass:"line"}),n("div",{staticClass:"desc"},[n("div",{staticClass:"left"},[n("div",{staticClass:"hot"},[n("div",{staticClass:"hot-title"},[t._v("热卖推荐")]),n("div",{staticClass:"new-list"},t._l(t.sortList,(function(e,i){return n("div",{key:i,staticClass:"shop-item"},[n("div",{staticClass:"item-img"},[n("a",{attrs:{href:"/product/"+e.id,target:"_blank"}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.cover,expression:"hot.cover"}],attrs:{alt:e.title}})])]),n("div",{staticClass:"item-info"},[n("a",{attrs:{href:"/product/"+e.id,target:"_blank"}},[n("h3",{staticClass:"title"},[t._v(t._s(e.title))])]),n("p",{staticClass:"price"},[t._v(t._s(e.price)+"元")])])])})),0)])]),n("div",{staticClass:"right"},[n("div",{staticClass:"right-title"},[t._v("商品详情")]),n("div",{staticClass:"right-content",domProps:{innerHTML:t._s(t.good.detail)}})])])]):n("div",{staticClass:"error"},[t._m(0)]),n("modal",{attrs:{title:"提示",sureText:"查看购物车",btnType:"1",modalType:"middle",showModal:t.showModal},on:{submit:t.goToCart,cancel:function(e){t.showModal=!1}},scopedSlots:t._u([{key:"body",fn:function(){return[n("p",[t._v("商品添加成功！")])]},proxy:!0}])})],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message"},[n("div",{staticClass:"l1"},[t._v("商品已失效，请看看其他商品吧~")]),n("div",{staticClass:"l2"},[n("p",[t._v("建议您：")]),n("p",[t._v(" 1、适当减少筛选条件，可以获得更多结果")]),n("p",[t._v(" 2、尝试其他产品ID")])])])}],s=(n("12c4"),n("7c3e"),n("06f5")),a=n.n(s),o=(n("147f"),n("239c"),n("6931"),n("bedb"),n("5580"),n("389c"),n("0cea"),n("9896"),n("c34a"),n("714b")),c=n("6fe8"),l=(n("488c"),{name:"product",components:{swiper:c["swiper"],swiperSlide:c["swiperSlide"],Modal:o["a"]},data:function(){return{t1:[{"版本类型":"中国大陆","存储容量":"16GB","套餐类型":"套餐一","机身颜色":"黑色",skuId:111},{"版本类型":"中国大陆","存储容量":"32GB","套餐类型":"套餐二","机身颜色":"红色",skuId:222}],t2:["版本类型","存储容量","套餐类型","机身颜色"],showModal:!1,num:1,version:"",swiperOptions:{autoplay:!0,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},sliderList:[],good:{marketPrice:[""],soldPrice:[""],params:[]},errorFlag:!0,sortList:[]}},computed:{marketPrice:function(){var t=this.good.marketPrice;return 1===t.length?t[0][0]:t[0].toString()+"~"+t.pop().toString()},soldPrice:function(){var t=this.good.soldPrice;return 1===t.length?t[0][0]:t[0].toString()+"~"+t.pop().toString()},productName:function(){var t=this;try{return this.getTitle(this.good.params.filter((function(e){return e.id===t.version}))[0]["params"])}catch(e){return""}},productPrice:function(){var t=this;try{return this.good.params.filter((function(e){return e.id===t.version}))[0]["sold_price"]}catch(e){return""}},stockStatus:function(){var t=this;try{return this.good.params.filter((function(e){return e.id===t.version}))[0]["status"]}catch(e){return 0}}},methods:{getVersion:function(t){var e=this;this.version=t,this.axios.get("/goods/".concat(t,"/")).then((function(t){e.sliderList=[t.data.cover]}))},getTitle:function(t){return console.log(t),t["value"]},swapGood:function(t){console.log(t)},getDict:function(t){var e=[{"版本类型":"中国大陆","存储容量":"16GB","套餐类型":"套餐一","机身颜色":"黑色"},{"版本类型":"中国大陆","存储容量":"32GB","套餐类型":"套餐二","机身颜色":"红色"}],n={"存储类型":["16GB","32GB"],"套餐类型":["套餐一","套餐二"],"机身颜色":["红色","黑色"],skuId:[]};console.log(t);var i=Object.keys(e[0]);console.log(i);for(var r={},s=[],a=0;a<e.length;a++){console.log(e[a]);for(var o=0;o<i.length;o++)Object.prototype.hasOwnProperty.call(r,i[o])?(s.push(e[a][i[o]]),r[i[o]]=s):r[i[o]]=s}return console.log(r),n},getSortProduct:function(){var t=this;this.axios.get("/products/",{params:{is_new:1}}).then((function(e){t.sortList=e.data.list.map((function(t){return{id:t.id,title:t.title,cover:t.pic,price:t.min_price}}))}))},goToOrder:function(){},outStcok:function(t){console.log(t),a.a.warning("该商品已售罄，正在补货")},notifyGood:function(t){console.log(t),a.a.success("商品到货后我们将以短信的形式通知您")},collectProduct:function(t){var e=this;console.log(t),this.axios.post("/collect/",{product:t}).then((function(){a.a.success("搜藏成功"),e.getProduct(t)}))},collected:function(){a.a.warning("该商品已收藏")},getCartNum:function(){var t=this;this.axios.get("/carts/").then((function(e){t.$store.dispatch("saveCartNums",e.data.total)}))},addCart:function(t){var e=this;""!==t?this.axios.post("/carts/",{csrftoken:this.$cookie.get("csrftoken"),goods:t,nums:this.num,is_select:!0}).then((function(t){console.log(t),e.showModal=!0,e.getCartNum()})):a.a.warning("请选择产品或规格")},goToCart:function(){var t=this.$router.resolve({path:"/cart"});window.open(t.href,"_blank")},handleChange:function(t){10===t&&a.a.warning("最大购买数量为10"),this.num=t},getProduct:function(t){var e=this;this.axios.get("/products/"+t+"/").then((function(t){e.good=[t.data].map((function(t){return{id:t.id,cateName:t.category.name,params:t.goods.map((function(t){return{id:t.id,params:t.params,status:t.is_sold,sold_price:t.sold_price}})),brandId:t.brand.id,brandLogo:t.brand.image,brandName:t.brand.en_name,title:t.title,sn:t.sn,desc:"",is_col:1,detail:t.detail,marketPrice:t.goods.map((function(t){return[t.market_price].sort()})),soldPrice:t.goods.map((function(t){return[t.sold_price].sort()}))}}))[0],e.sliderList=t.data.images.split(",")}))},init:function(){var t=this.$route.params;Object.prototype.hasOwnProperty.call(t,"id")&&""!==t.id?this.getProduct(t.id):this.errorFlag=!1}},mounted:function(){this.init(),this.getSortProduct()}}),u=l,d=(n("2c5b"),n("4ac2")),p=Object(d["a"])(u,i,r,!1,null,null,null);e["default"]=p.exports},"8dc5":function(t,e,n){var i=n("b579"),r=i.match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},9896:function(t,e,n){"use strict";var i=n("9f87"),r=n("c3c5");i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},a1f8:function(t,e){var n=Math.floor,i=function(t,e){var a=t.length,o=n(a/2);return a<8?r(t,e):s(i(t.slice(0,o),e),i(t.slice(o),e),e)},r=function(t,e){var n,i,r=t.length,s=1;while(s<r){i=s,n=t[s];while(i&&e(t[i-1],n)>0)t[i]=t[--i];i!==s++&&(t[i]=n)}return t},s=function(t,e,n){var i=t.length,r=e.length,s=0,a=0,o=[];while(s<i||a<r)s<i&&a<r?o.push(n(t[s],e[a])<=0?t[s++]:e[a++]):o.push(s<i?t[s++]:e[a++]);return o};t.exports=i},a239:function(t,e,n){"use strict";var i=n("eeea");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=i((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=i((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},c34a:function(t,e,n){"use strict";var i=n("43b5"),r=n("3abd"),s=n("4382"),a=n("8a56"),o=n("460d"),c=n("f002"),l=n("56a8"),u=n("5911"),d=n("c3c5"),p=n("a239"),f=p.UNSUPPORTED_Y,v=[].push,g=Math.min,h=4294967295;i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(a(this)),s=void 0===n?h:n>>>0;if(0===s)return[];if(void 0===t)return[i];if(!r(t))return e.call(i,t,s);var o,c,l,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,g=new RegExp(t.source,p+"g");while(o=d.call(g,i)){if(c=g.lastIndex,c>f&&(u.push(i.slice(f,o.index)),o.length>1&&o.index<i.length&&v.apply(u,o.slice(1)),l=o[0].length,f=c,u.length>=s))break;g.lastIndex===o.index&&g.lastIndex++}return f===i.length?!l&&g.test("")||u.push(""):u.push(i.slice(f)),u.length>s?u.slice(0,s):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=a(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,r,n):i.call(String(r),e,n)},function(t,r){var a=n(i,t,this,r,i!==e);if(a.done)return a.value;var d=s(t),p=String(this),v=o(d,RegExp),m=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(f?"g":"y"),x=new v(f?"^(?:"+d.source+")":d,b),C=void 0===r?h:r>>>0;if(0===C)return[];if(0===p.length)return null===u(x,p)?[p]:[];var _=0,w=0,y=[];while(w<p.length){x.lastIndex=f?0:w;var k,E=u(x,f?p.slice(w):p);if(null===E||(k=g(l(x.lastIndex+(f?w:0)),p.length))===_)w=c(p,w,m);else{if(y.push(p.slice(_,w)),y.length===C)return y;for(var S=1;S<=E.length-1;S++)if(y.push(E[S]),y.length===C)return y;w=_=k}}return y.push(p.slice(_)),y}]}),f)},c3c5:function(t,e,n){"use strict";var i=n("0aef"),r=n("a239"),s=n("d1ac"),a=RegExp.prototype.exec,o=s("native-string-replace",String.prototype.replace),c=a,l=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=r.UNSUPPORTED_Y||r.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],p=l||d||u;p&&(c=function(t){var e,n,r,s,c=this,p=u&&c.sticky,f=i.call(c),v=c.source,g=0,h=t;return p&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),h=String(t).slice(c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==t[c.lastIndex-1])&&(v="(?: "+v+")",h=" "+h,g++),n=new RegExp("^(?:"+v+")",f)),d&&(n=new RegExp("^"+v+"$(?!\\s)",f)),l&&(e=c.lastIndex),r=a.call(p?n:c,h),p?r?(r.input=r.input.slice(g),r[0]=r[0].slice(g),r.index=c.lastIndex,c.lastIndex+=r[0].length):c.lastIndex=0:l&&r&&(c.lastIndex=c.global?r.index+r[0].length:e),d&&r&&r.length>1&&o.call(r[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(r[s]=void 0)})),r}),t.exports=c},d874:function(t,e,n){var i=n("b579"),r=i.match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},f002:function(t,e,n){"use strict";var i=n("6e4e").charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}}}]);
//# sourceMappingURL=chunk-2a575a8e.d93d3fdc.js.map